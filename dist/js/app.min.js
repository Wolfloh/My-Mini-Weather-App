(()=>{"use strict";const e=document.querySelector(".basic-data__place"),a=document.querySelector(".basic-data__title"),r=document.querySelector(".basic-data__button-c"),n=document.querySelector(".basic-data__button-f"),c=document.querySelectorAll(".basic-data__button"),s=document.querySelector(".basic-data__icon"),t=document.querySelector(".basic-data__description"),i=document.querySelector(".basic-data__time"),o=document.querySelector(".other-details__feels-number"),d=document.querySelector(".other-details__feels-text"),l=document.querySelector(".other-details__wind"),L=document.querySelector(".other-details__visibility"),u=document.querySelector(".other-details__precip"),T=document.querySelector(".other-details__humidity"),H=document.querySelector(".other-details__pressure"),M=document.querySelector(".header-body__search"),b=document.querySelector(".daily__title"),k=document.querySelectorAll(".daily__day"),y=document.querySelectorAll(".daily__icon"),m=document.querySelectorAll(".daily__temp-temp"),_=document.querySelectorAll(".daily__desc"),p=document.querySelectorAll(".daily__temp-desc"),f=document.querySelector(".header-body__form"),h=document.querySelectorAll(".daily__humidity"),v=document.querySelectorAll(".daily__vis"),S=document.querySelectorAll(".daily__chance-of-rain"),q=document.querySelectorAll(".daily__chance-of-snow"),$=document.querySelectorAll(".daily__maxwind"),g=document.querySelectorAll(".daily__item"),w=document.querySelector(".daily__box"),A=document.querySelector(".footer__from"),x=document.querySelector(".background-video");function E(M){fetch(M).then((e=>e.json())).then((f=>{console.log(f);for(let e=0;e<f.forecast.forecastday.length;e++)if(y[e].setAttribute("src",`http:${f.forecast.forecastday[e].day.condition.icon}`),m[e].innerHTML=f.forecast.forecastday[e].day.avgtemp_c,/[\u0400-\u04FF]/.test(f.location.country)){switch(f.forecast.forecastday[e].day.condition.code){case 1003:_[e].innerHTML="Частично облачно";break;case 1e3:_[e].innerHTML="Ясно";break;case 1006:_[e].innerHTML="Облачно";break;case 1183:case 1240:_[e].innerHTML="Лёгкий дождь";break;case 1207:case 1258:_[e].innerHTML="Умеренный или сильный снегопад";break;case 1210:_[e].innerHTML="Неравномерный легкий снег";break;case 1009:_[e].innerHTML="Пасмурно";break;case 1222:_[e].innerHTML="Местами сильный снег";break;case 1063:_[e].innerHTML="Возможен кратковременный дождь";break;case 1189:_[e].innerHTML="Умеренный дождь";break;case 1135:case 1030:_[e].innerHTML="Туман";break;case 1066:_[e].innerHTML="Возможен кратковременный снег";break;case 1069:_[e].innerHTML="Возможен мелкий снег";break;case 1072:_[e].innerHTML="Возможны небольшие моросящие осадки";break;case 1087:_[e].innerHTML="Возможны вспышки грозы";break;case 1114:case 1117:_[e].innerHTML="Метель";break;case 1147:_[e].innerHTML="Ледяной туман";break;case 1150:_[e].innerHTML="Неравномерный легкий моросящий дождь";break;case 1153:_[e].innerHTML="Легкий моросящий дождь";break;case 1168:_[e].innerHTML="Моросящий дождь";break;case 1171:_[e].innerHTML="Сильный моросящий дождь";break;case 1180:_[e].innerHTML="Местами небольшой дождь";break;case 1186:_[e].innerHTML="Временами небольшой дождь";break;case 1192:_[e].innerHTML="Временами проливной дождь";break;case 1195:_[e].innerHTML="Ливень";break;case 1198:_[e].innerHTML="Лёгкий ледяной дождь";break;case 1201:_[e].innerHTML="Умеренный или сильный ледяной дождь";break;case 1204:_[e].innerHTML="Небольшой мокрый снег";break;case 1207:_[e].innerHTML="Умеренный или сильный мокрый снег";break;case 1213:_[e].innerHTML="Лёгкий снег";break;case 1216:_[e].innerHTML="Местами умеренный снег";break;case 1219:_[e].innerHTML="Умеренный снегопад";break;case 1225:_[e].innerHTML="Сильный снегопад";break;case 1237:_[e].innerHTML="Ледяные гранулы";break;case 1243:_[e].innerHTML="Умеренный или сильный ливень";break;case 1246:_[e].innerHTML="Проливной дождь";break;case 1249:_[e].innerHTML="Небольшой дождь с мокрым снегом";break;case 1252:_[e].innerHTML="Умеренный или сильный дождь с мокрым снегом";break;case 1255:_[e].innerHTML="Небольшой снежный дождь";break;case 1261:_[e].innerHTML="Лёгкий дождь из ледяных гранул";break;case 1264:_[e].innerHTML="Умеренный или сильный дождь из ледяных гранул";break;case 1273:_[e].innerHTML="Местами небольшой дождь с громом";break;case 1276:_[e].innerHTML="Умеренный или сильный дождь с грозой";break;case 1279:_[e].innerHTML="Местами небольшой снег с грозой";break;case 1282:_[e].innerHTML="Умеренный или сильный снегопад с грозой"}p[e].innerHTML="в среднем",h[e].innerHTML=`<p>средняя влажность</p><p>${f.forecast.forecastday[e].day.avghumidity}%</p>`,v[e].innerHTML=`<p>средняя видимость</p><p>${f.forecast.forecastday[e].day.avgvis_km} км</p>`,S[e].innerHTML=`<p>вероятность дождя</p><p>${f.forecast.forecastday[e].day.daily_chance_of_rain}%</p>`,q[e].innerHTML=`<p>вероятность снега</p><p>${f.forecast.forecastday[e].day.daily_chance_of_snow}%</p>`,$[e].innerHTML=`<p>максимальная скорость ветра</p><p>${f.forecast.forecastday[e].day.maxwind_kph} км/ч</p>`}else _[e].innerHTML=f.forecast.forecastday[e].day.condition.text,p[e].innerHTML="in average",h[e].innerHTML=`<p>average humidity</p><p>${f.forecast.forecastday[e].day.avghumidity}%</p>`,v[e].innerHTML=`<p>average visibility</p><p>${f.forecast.forecastday[e].day.avgvis_km} km</p>`,S[e].innerHTML=`<p>chance of rain</p><p>${f.forecast.forecastday[e].day.daily_chance_of_rain}%</p>`,q[e].innerHTML=`<p>chance of snow</p><p>${f.forecast.forecastday[e].day.daily_chance_of_snow}%</p>`,$[e].innerHTML=`<p>maximum wind speed</p><p>${f.forecast.forecastday[e].day.maxwind_kph} kph</p>`;if(/[\u0400-\u04FF]/.test(f.location.country))switch(i.innerHTML=`последнее обновление ${f.current.last_updated}`,l.innerHTML=`Ветер ${f.current.wind_kph} км/ч`,L.innerHTML=`Видимость ${f.current.vis_km} км`,u.innerHTML=`Осадков ${f.current.precip_mm} мм`,T.innerHTML=`Влажность ${f.current.humidity}%`,H.innerHTML=`Давление ${f.current.pressure_mb} мб`,b.innerHTML="По дням",k[0].innerHTML="Сегодня",k[1].innerHTML="Завтра",d.innerHTML="Чувствуется как",A.innerHTML="данные взяты с",f.current.condition.code){case 1003:t.innerHTML="Частично облачно";break;case 1e3:t.innerHTML="Ясно";break;case 1006:t.innerHTML="Облачно";break;case 1183:case 1240:t.innerHTML="Лёгкий дождь";break;case 1207:case 1258:t.innerHTML="Умеренный или сильный снегопад";break;case 1210:t.innerHTML="Неравномерный легкий снег";break;case 1009:t.innerHTML="Пасмурно";break;case 1222:t.innerHTML="Местами сильный снег";break;case 1063:t.innerHTML="Возможен кратковременный дождь";break;case 1189:t.innerHTML="Умеренный дождь";break;case 1135:case 1030:t.innerHTML="Туман";break;case 1066:t.innerHTML="Возможен кратковременный снег";break;case 1069:t.innerHTML="Возможен мелкий снег";break;case 1072:t.innerHTML="Возможны небольшие моросящие осадки";break;case 1087:t.innerHTML="Возможны вспышки грозы";break;case 1114:case 1117:t.innerHTML="Метель";break;case 1147:t.innerHTML="Ледяной туман";break;case 1150:t.innerHTML="Неравномерный легкий моросящий дождь";break;case 1153:t.innerHTML="Легкий моросящий дождь";break;case 1168:t.innerHTML="Моросящий дождь";break;case 1171:t.innerHTML="Сильный моросящий дождь";break;case 1180:t.innerHTML="Местами небольшой дождь";break;case 1186:t.innerHTML="Временами небольшой дождь";break;case 1192:t.innerHTML="Временами проливной дождь";break;case 1195:t.innerHTML="Ливень";break;case 1198:case 1261:t.innerHTML="Лёгкий ледяной дождь";break;case 1201:case 1264:t.innerHTML="Умеренный или сильный ледяной дождь";break;case 1204:t.innerHTML="Небольшой дождь со снегом";break;case 1207:t.innerHTML="Умеренный или сильный дождь со снегом";break;case 1213:t.innerHTML="Лёгкий снег";break;case 1216:t.innerHTML="Местами умеренный снег";break;case 1219:t.innerHTML="Умеренный снегопад";break;case 1225:t.innerHTML="Сильный снегопад";break;case 1237:t.innerHTML="Ледяные гранулы";break;case 1243:t.innerHTML="Умеренный или сильный ливень";break;case 1246:t.innerHTML="Проливной дождь";break;case 1249:t.innerHTML="Небольшой дождь с мокрым снегом";break;case 1252:t.innerHTML="Умеренный или сильный дождь с мокрым снегом";break;case 1255:t.innerHTML="Небольшой снежный дождь";break;case 1273:t.innerHTML="Местами небольшой дождь с грозой";break;case 1276:t.innerHTML="Умеренный или сильный дождь с грозой";break;case 1279:t.innerHTML="Местами небольшой снег с грозой";break;case 1282:t.innerHTML="Умеренный или сильный снегопад с грозой"}else d.innerHTML="Feels like",i.innerHTML=`last updated ${f.current.last_updated}`,l.innerHTML=`Wind ${f.current.wind_kph} kph`,L.innerHTML=`Visibility ${f.current.vis_km} km`,u.innerHTML=`Precip ${f.current.precip_mm} mm`,T.innerHTML=`Humidity ${f.current.humidity}%`,H.innerHTML=`Pressure ${f.current.pressure_mb} mb`,t.innerHTML=f.current.condition.text,k[0].innerHTML="Today",k[1].innerHTML="Tomorrow",b.innerHTML="Daily",A.innerHTML="data taken from";switch(f.current.condition.code){case 1003:case 1006:case 1e3:x.setAttribute("src","files/Pexels Videos 2573.mp4");break;case 1183:case 1240:case 1189:case 1063:case 1072:case 1150:case 1153:case 1168:case 1171:case 1180:case 1186:case 1192:case 1195:case 1198:case 1201:case 1243:case 1246:case 1249:case 1252:case 1255:case 1261:case 1264:case 1273:case 1276:case 1204:case 1207:x.setAttribute("src","files/Raindrops_Videvo.mp4");break;case 1009:x.setAttribute("src","files/SilverLining.mp4");break;case 1087:x.setAttribute("src","files/thundershtorm.mp4");break;case 1135:case 1030:case 1147:x.setAttribute("src","files/fog.mp4");break;case 1207:case 1210:case 1222:case 1066:case 1069:case 1213:case 1114:case 1117:case 1216:case 1219:case 1225:case 1258:case 1279:case 1282:x.setAttribute("src","files/snowfall.mp4")}o.innerHTML=f.current.feelslike_c,e.innerHTML=`${f.location.name}, ${f.location.country}`,a.innerHTML=`<span class="circle main-circle">${f.current.temp_c}</span>`,s.setAttribute("src",`http:${f.current.condition.icon}`),k[2].innerHTML=f.forecast.forecastday[2].date.slice(5),c.forEach((e=>{e.addEventListener("click",(c=>{if(e===r){a.innerHTML=`<span class="circle main-circle">${f.current.temp_c}</span>`,n.classList.remove("active"),e.classList.add("active"),o.innerHTML=f.current.feelslike_c;for(let e=0;e<f.forecast.forecastday.length;e++)m[e].innerHTML=f.forecast.forecastday[e].day.avgtemp_c}else if(e===n){a.innerHTML=`<span class="circle main-circle">${Math.round(f.current.temp_f)}</span>`,r.classList.remove("active"),e.classList.add("active"),o.innerHTML=f.current.feelslike_f;for(let e=0;e<f.forecast.forecastday.length;e++)m[e].innerHTML=f.forecast.forecastday[e].day.avgtemp_f}}))})),localStorage.setItem("url",M)}))}f.addEventListener("submit",(e=>{E(`https://api.weatherapi.com/v1/forecast.json?key=6081ec43a3104e0a85f214237232103&q=${M.value}&days=3`)})),E(localStorage.getItem("url")||"https://api.weatherapi.com/v1/forecast.json?&key=6081ec43a3104e0a85f214237232103&days=3&q=Gent"),localStorage.getItem("url")||async function(){const e=await new Promise(((e,a)=>{navigator.geolocation.getCurrentPosition(e,a)}));E(`https://api.weatherapi.com/v1/forecast.json?key=6081ec43a3104e0a85f214237232103&q=${e.coords.latitude},${e.coords.longitude}&days=3`)}().catch((e=>console.error(e))),M.addEventListener("focus",(e=>{f.classList.add("active")})),M.addEventListener("blur",(e=>{f.classList.remove("active")})),g.forEach((e=>{e.addEventListener("click",(a=>{g.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),w.classList.add("active")}))}))})();